# 括号匹配 3704: 扩号匹配问题

题目要求将不能匹配的括号用其他符号代替然后输出出来。

[题目来源](http://bailian.openjudge.cn/practice/3704/)

## 3704: 扩号匹配问题

总时间限制: 1000ms    内存限制: 65536kB

### 描述

在某个字符串（长度不超过100）中有左括号、右括号和大小写字母；规定（与常见的算数式子一样）任何一个左括号都从内到外与在它右边且距离最近的右括号匹配。
写一个程序，找到无法匹配的左括号和右括号，输出原来字符串，并在下一行标出不能匹配的括号。
不能匹配的左括号用"$"标注,不能匹配的右括号用"?"标注.

### 输入

输入包括多组数据，每组数据一行，包含一个字符串，只包含左右括号和大小写字母，字符串长度不超过100

### 输出

对每组输出数据，输出两行，第一行包含原始输入字符，第二行由"$","?"和空格组成，"$"和"?"表示与之对应的左括号和右括号不能匹配。

### 样例输入
```
((ABCD(x)
)(rttyy())sss)(
```
### 样例输出
```
((ABCD(x)
$$
)(rttyy())sss)(
?            ?$
```
能够匹配的括号一定是成对在一起的，所以可以从头开始遍历第一个右括号，找到后向前匹配左括号，找到后则对这一对括号进行标记为没有问题。
如果没有找到，则这一个右括号就有问题。都遍历一遍后再把剩余没有匹配的左括号标记出来即可。
```cpp
#include <iostream>
#include <string>
using namespace std;
int main() {
	string str;
	while (cin >> str) {
		string src = str, res(str.length(), ' ');
		for (int i = 0; i < str.length(); ++i) {
			if (str[i] == ')') {
				bool bf = false;
				for (int j = i - 1; j >= 0; --j) {
					if (str[j] == '(') {
						str[j] = ',';
						str[i] = '.';
						bf = true;
						break;
					}
				}
				if (bf == false) {
					res[i] = '?';
				}
			}
		}
		for (int i = 0; i < str.length(); ++i) {
			if (str[i] == '(') {
				res[i] = '$';
			}
		}
		cout << src << endl << res << endl;
	}
	return 0;
}
```
#### [3704.cpp](/Code/3700-3799/3704.cpp) 代码长度：592B 内存：152kB 时间：5ms 通过率：88% 最小内存：152kB  最短时间：0ms

字符串中可能存在空格，应当使用cin.getline来读取，字符串处理可以使用string类型，其中有不少函数可以调用，比较方便。

有任何的改进意见欢迎大家在微信平台公众号主页面留言或者发表issue。
