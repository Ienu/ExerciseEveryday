# 计数问题 2705: 跳绳游戏

题目要求统计在一分钟内小朋友跳了多少次，中间有跳坏的可能，需要调整的时间，跳绳的频率一定。

[题目来源](http://bailian.openjudge.cn/practice/2705/)

## 2705: 跳绳游戏

总时间限制: 1000ms    内存限制: 65536kB

### 描述

小朋友玩跳绳比赛,要计算在一分钟内跳了多少下.假设每秒钟跳一下,如果中途失败了,则要花三秒钟后才能开始重跳.一般小朋友跳绳一分钟要跳坏好几次.现在给出小朋友每次跳坏时已经跳的总数,求小朋友在一分钟内跳了多少下.(请注意分析示例数据.)

提示,在跳绳比赛时,你可能已经超时了,但自己还在计数,但裁判已经停止计时并得到成绩了.这里相当与自己计数.因此,并非跳坏的时候都是在前一分钟以内.请注意分析示例数据.

### 输入

第一行为n个小朋友

其余各行,每行第一个整数是跳坏的次数m,其余m个整数是跳坏时累计跳了多少下.

### 输出

输出相应小朋友头一分钟内跳了多少下.

### 样例输入
```
6
0
3 12 23 45 
1 17
4 10 20 30 40
5 10 20 30 40 58 
6 10 20 30 40 47 60
```
### 样例输出
```
60
51
57
48
48
47
```
首先小朋友可能一次都没有跳坏，我们不妨设小朋友跳了一个很大的数，如100。其次不能超过60秒，也就是最大能跳60个，这作为一个上限的判断。如果跳坏了，要把当前的数与60比较，只保留不超过60的部分，另外该次要加上3秒的调整时间，如此循环直到读取完全部数据。
```cpp
#include <iostream>
using namespace std;
int main() {
	int n, m, i, j;
	cin >> n;
	for (i = 0; i < n; ++i) {
		cin >> m;
		int sum = 0, idx = 0, last = 0, now, g;
		for (j = 0; j < m + 1; ++j) {
			if (j < m) {
				cin >> now;
			}
			else {
				now = 100;
			}
			g = now - last;
			last = now;
			if (idx + g < 60) {
				sum += g;
			}
			else if(idx < 60) {
				sum += 60 - idx;
			}
			idx += g + 3;
		}
		cout << sum << endl;
	}
	return 0;
}
```
#### [2705.cpp](/Code/2700-2799/2705.cpp) 代码长度：447B 内存：136kB 时间：1ms 通过率：85% 最小内存：136kB  最短时间：0ms

这道题在逻辑上较为复杂，需要缜密地分析，对于每一次记录，可以当场处理，无需数组记录。之后我们用一个last来记录最后上一次跳的个数，用now记录本次的值，两者相减得到的是本次跳的个数。idx用来记录包括时间在内的实际跳的次数，通过与60比较得到最终跳的个数。

有任何的改进意见欢迎大家在微信平台公众号主页面留言或者发表issue。
